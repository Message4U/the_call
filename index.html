<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>YWAM LA — Life Dedicated to the Lord (Self-Assessment)</title>
  <meta name="description" content="A private self-assessment tool. Your answers are not stored. You email the results to yourself." />

  <style>
    :root{
      --bg: #0b1220;
      --card: rgba(255,255,255,0.08);
      --card2: rgba(255,255,255,0.06);
      --stroke: rgba(255,255,255,0.14);
      --text: rgba(255,255,255,0.92);
      --muted: rgba(255,255,255,0.72);
      --faint: rgba(255,255,255,0.55);
      --accent: #8de1ff;
      --accent2: #b7ffa8;
      --danger: #ff8f8f;
      --shadow: 0 20px 60px rgba(0,0,0,0.45);
      --radius: 18px;
      --radius2: 14px;
    }

    *{ box-sizing: border-box; }
    body{
      margin: 0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
      color: var(--text);
      background:
        radial-gradient(1200px 600px at 20% 10%, rgba(141,225,255,0.22), transparent 60%),
        radial-gradient(900px 500px at 80% 20%, rgba(183,255,168,0.18), transparent 55%),
        radial-gradient(1100px 700px at 50% 100%, rgba(255,255,255,0.08), transparent 60%),
        linear-gradient(180deg, #060a14 0%, #0b1220 50%, #070b15 100%);
      min-height: 100vh;
      padding: 28px 16px 60px;
    }

    .wrap{
      max-width: 920px;
      margin: 0 auto;
    }

    header{
      display: flex;
      gap: 14px;
      align-items: flex-start;
      justify-content: space-between;
      margin-bottom: 18px;
    }

    .brand{
      display: flex;
      gap: 12px;
      align-items: center;
    }

    .logo{
      width: 44px;
      height: 44px;
      border-radius: 14px;
      background:
        radial-gradient(18px 18px at 30% 30%, rgba(141,225,255,0.9), transparent 60%),
        radial-gradient(18px 18px at 70% 70%, rgba(183,255,168,0.9), transparent 60%),
        rgba(255,255,255,0.10);
      border: 1px solid var(--stroke);
      box-shadow: 0 10px 30px rgba(0,0,0,0.35);
    }

    h1{
      margin: 0;
      font-size: 22px;
      letter-spacing: 0.2px;
      line-height: 1.2;
    }

    .sub{
      margin: 6px 0 0;
      color: var(--muted);
      font-size: 14px;
      line-height: 1.5;
      max-width: 60ch;
    }

    .pillRow{
      display: flex;
      gap: 10px;
      flex-wrap: wrap;
      justify-content: flex-end;
      margin-top: 4px;
    }

    .pill{
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 9px 12px;
      border: 1px solid var(--stroke);
      border-radius: 999px;
      background: rgba(255,255,255,0.06);
      color: var(--muted);
      font-size: 12.5px;
      white-space: nowrap;
    }

    .dot{
      width: 9px;
      height: 9px;
      border-radius: 999px;
      background: var(--accent2);
      box-shadow: 0 0 0 6px rgba(183,255,168,0.12);
    }

    .mainGrid{
      display: grid;
      grid-template-columns: 1.45fr 0.85fr;
      gap: 16px;
      align-items: start;
    }

    @media (max-width: 880px){
      .mainGrid{ grid-template-columns: 1fr; }
      header{ flex-direction: column; }
      .pillRow{ justify-content: flex-start; }
    }

    .card{
      background: var(--card);
      border: 1px solid var(--stroke);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      overflow: hidden;
    }

    .cardHeader{
      padding: 16px 18px;
      border-bottom: 1px solid rgba(255,255,255,0.10);
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 12px;
      background: linear-gradient(180deg, rgba(255,255,255,0.07), rgba(255,255,255,0.03));
    }

    .cardHeader h2{
      margin: 0;
      font-size: 14px;
      letter-spacing: 0.25px;
      color: rgba(255,255,255,0.86);
      font-weight: 650;
      text-transform: uppercase;
    }

    .progressWrap{
      display: flex;
      align-items: center;
      gap: 10px;
      min-width: 210px;
    }

    .bar{
      flex: 1;
      height: 10px;
      border-radius: 999px;
      background: rgba(255,255,255,0.08);
      border: 1px solid rgba(255,255,255,0.10);
      overflow: hidden;
    }

    .barFill{
      height: 100%;
      width: 0%;
      background: linear-gradient(90deg, var(--accent), var(--accent2));
      border-radius: 999px;
      transition: width 180ms ease;
    }

    .progressText{
      font-size: 12px;
      color: var(--muted);
      min-width: 78px;
      text-align: right;
    }

    .content{
      padding: 18px;
    }

    .scaleHint{
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 10px;
      margin: 0 0 14px;
    }

    .scaleHint .hint{
      border: 1px solid rgba(255,255,255,0.12);
      border-radius: 14px;
      padding: 10px 10px;
      background: rgba(255,255,255,0.05);
    }

    .hint b{
      display: block;
      font-size: 12.5px;
      margin-bottom: 4px;
      color: rgba(255,255,255,0.9);
    }
    .hint span{
      display: block;
      font-size: 12px;
      color: var(--muted);
      line-height: 1.3;
    }

    @media (max-width: 640px){
      .scaleHint{ grid-template-columns: 1fr 1fr; }
    }

    .q{
      padding: 14px 14px;
      border: 1px solid rgba(255,255,255,0.10);
      border-radius: var(--radius2);
      background: rgba(255,255,255,0.04);
      margin-bottom: 12px;
    }

    .qTop{
      display: flex;
      align-items: flex-start;
      justify-content: space-between;
      gap: 12px;
      margin-bottom: 10px;
    }

    .qNum{
      font-weight: 800;
      color: rgba(255,255,255,0.88);
      font-size: 13px;
      min-width: 26px;
      opacity: 0.95;
    }

    .qText{
      margin: 0;
      color: rgba(255,255,255,0.90);
      font-size: 14px;
      line-height: 1.45;
      flex: 1;
    }

    .choices{
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 10px;
    }

    @media (max-width: 560px){
      .choices{ grid-template-columns: repeat(2, 1fr); }
    }

    .choice{
      position: relative;
      display: block;
      cursor: pointer;
      user-select: none;
      padding: 10px 10px 10px 40px;
      border-radius: 14px;
      border: 1px solid rgba(255,255,255,0.12);
      background: rgba(255,255,255,0.05);
      transition: transform 90ms ease, border-color 90ms ease, background 90ms ease;
      min-height: 42px;
    }

    .choice:hover{
      transform: translateY(-1px);
      border-color: rgba(141,225,255,0.35);
      background: rgba(141,225,255,0.07);
    }

    .choice input{
      position: absolute;
      left: 12px;
      top: 50%;
      transform: translateY(-50%);
      width: 18px;
      height: 18px;
      accent-color: #b7ffa8;
      cursor: pointer;
    }

    .choice b{
      display: block;
      font-size: 12.5px;
      margin-bottom: 2px;
    }
    .choice span{
      display: block;
      font-size: 11.5px;
      color: var(--muted);
      line-height: 1.2;
    }

    .sideCard{
      position: sticky;
      top: 16px;
    }

    .sideBody{
      padding: 18px;
    }

    .field{
      margin-bottom: 12px;
    }

    label.small{
      display: block;
      margin-bottom: 6px;
      color: var(--muted);
      font-size: 12.5px;
    }

    input[type="email"], input[type="text"]{
      width: 100%;
      padding: 12px 12px;
      border-radius: 14px;
      border: 1px solid rgba(255,255,255,0.14);
      background: rgba(0,0,0,0.22);
      color: var(--text);
      outline: none;
    }

    input[type="email"]:focus, input[type="text"]:focus{
      border-color: rgba(141,225,255,0.45);
      box-shadow: 0 0 0 4px rgba(141,225,255,0.12);
    }

    .btn{
      width: 100%;
      border: none;
      border-radius: 14px;
      padding: 12px 14px;
      font-weight: 750;
      color: rgba(0,0,0,0.85);
      cursor: pointer;
      background: linear-gradient(90deg, var(--accent), var(--accent2));
      box-shadow: 0 14px 40px rgba(141,225,255,0.18);
      transition: transform 90ms ease, filter 90ms ease;
    }
    .btn:hover{ transform: translateY(-1px); filter: brightness(1.02); }
    .btn:active{ transform: translateY(0px); }

    .btn.secondary{
      margin-top: 10px;
      background: rgba(255,255,255,0.10);
      color: rgba(255,255,255,0.90);
      border: 1px solid rgba(255,255,255,0.14);
      box-shadow: none;
    }

    .notice{
      margin-top: 12px;
      padding: 12px 12px;
      border-radius: 14px;
      border: 1px solid rgba(255,255,255,0.12);
      background: rgba(255,255,255,0.05);
      color: var(--muted);
      font-size: 12.5px;
      line-height: 1.45;
    }

    .warn{
      margin-top: 12px;
      padding: 12px 12px;
      border-radius: 14px;
      border: 1px solid rgba(255,143,143,0.35);
      background: rgba(255,143,143,0.08);
      color: rgba(255,255,255,0.88);
      font-size: 12.5px;
      line-height: 1.45;
      display: none;
    }

    .resultBox{
      margin-top: 12px;
      padding: 12px 12px;
      border-radius: 14px;
      border: 1px solid rgba(183,255,168,0.28);
      background: rgba(183,255,168,0.08);
      color: rgba(255,255,255,0.92);
      font-size: 12.5px;
      line-height: 1.45;
      display: none;
    }

    .resultBox b{
      display: inline-block;
      margin-bottom: 4px;
    }

    .footer{
      margin-top: 18px;
      color: var(--faint);
      font-size: 12px;
      line-height: 1.5;
    }

    .tinyLink{
      color: rgba(141,225,255,0.9);
      text-decoration: none;
      border-bottom: 1px dashed rgba(141,225,255,0.35);
    }
    .tinyLink:hover{ border-bottom-style: solid; }
  </style>
</head>

<body>
  <div class="wrap">
    <header>
      <div class="brand">
        <div class="logo" aria-hidden="true"></div>
        <div>
          <h1>Life Dedicated to the Lord — Self-Assessment</h1>
          <p class="sub">
            Answer honestly before the Lord. Your answers are <b>not stored</b>.
            When you submit, your email app opens a message addressed to <b>you</b> with your results.
          </p>
        </div>
      </div>

      <div class="pillRow">
        <div class="pill"><span class="dot" aria-hidden="true"></span>Private: no database / no admin access</div>
        <div class="pill">Scale: 1–4</div>
        <div class="pill">Total score: 12–48</div>
      </div>
    </header>

    <div class="mainGrid">
      <!-- LEFT: QUESTIONS -->
      <section class="card" aria-label="Assessment questions">
        <div class="cardHeader">
          <h2>Questions</h2>
          <div class="progressWrap" aria-label="Progress">
            <div class="bar" aria-hidden="true"><div id="barFill" class="barFill"></div></div>
            <div id="progressText" class="progressText">0 / 12</div>
          </div>
        </div>

        <div class="content">
          <div class="scaleHint" aria-label="Scale guide">
            <div class="hint"><b>1</b><span>Weak / Neglected</span></div>
            <div class="hint"><b>2</b><span>Inconsistent</span></div>
            <div class="hint"><b>3</b><span>Growing</span></div>
            <div class="hint"><b>4</b><span>Strong / Flourishing</span></div>
          </div>

          <form id="assessmentForm">
            <div class="q" data-q="1">
              <div class="qTop">
                <div class="qNum">1</div>
                <p class="qText">Is my holiness evident in the way I forgive, speak, and build up the people around me?</p>
              </div>
              <div class="choices">
                <label class="choice"><input type="radio" name="q1" value="1"><b>1</b><span>Weak</span></label>
                <label class="choice"><input type="radio" name="q1" value="2"><b>2</b><span>Inconsistent</span></label>
                <label class="choice"><input type="radio" name="q1" value="3"><b>3</b><span>Growing</span></label>
                <label class="choice"><input type="radio" name="q1" value="4"><b>4</b><span>Strong</span></label>
              </div>
            </div>

            <div class="q" data-q="2">
              <div class="qTop">
                <div class="qNum">2</div>
                <p class="qText">Is Jesus truly Lord over my finances, and does my generosity reflect that?</p>
              </div>
              <div class="choices">
                <label class="choice"><input type="radio" name="q2" value="1"><b>1</b><span>Weak</span></label>
                <label class="choice"><input type="radio" name="q2" value="2"><b>2</b><span>Inconsistent</span></label>
                <label class="choice"><input type="radio" name="q2" value="3"><b>3</b><span>Growing</span></label>
                <label class="choice"><input type="radio" name="q2" value="4"><b>4</b><span>Strong</span></label>
              </div>
            </div>

            <div class="q" data-q="3">
              <div class="qTop">
                <div class="qNum">3</div>
                <p class="qText">Am I intentionally living as a witness, actively making Jesus known to those who don’t know Him?</p>
              </div>
              <div class="choices">
                <label class="choice"><input type="radio" name="q3" value="1"><b>1</b><span>Weak</span></label>
                <label class="choice"><input type="radio" name="q3" value="2"><b>2</b><span>Inconsistent</span></label>
                <label class="choice"><input type="radio" name="q3" value="3"><b>3</b><span>Growing</span></label>
                <label class="choice"><input type="radio" name="q3" value="4"><b>4</b><span>Strong</span></label>
              </div>
            </div>

            <div class="q" data-q="4">
              <div class="qTop">
                <div class="qNum">4</div>
                <p class="qText">Am I consistently prioritizing deep, personal time alone with the Lord in prayer?</p>
              </div>
              <div class="choices">
                <label class="choice"><input type="radio" name="q4" value="1"><b>1</b><span>Weak</span></label>
                <label class="choice"><input type="radio" name="q4" value="2"><b>2</b><span>Inconsistent</span></label>
                <label class="choice"><input type="radio" name="q4" value="3"><b>3</b><span>Growing</span></label>
                <label class="choice"><input type="radio" name="q4" value="4"><b>4</b><span>Strong</span></label>
              </div>
            </div>

            <div class="q" data-q="5">
              <div class="qTop">
                <div class="qNum">5</div>
                <p class="qText">Am I meaningfully connected to and actively serving the local church here?</p>
              </div>
              <div class="choices">
                <label class="choice"><input type="radio" name="q5" value="1"><b>1</b><span>Weak</span></label>
                <label class="choice"><input type="radio" name="q5" value="2"><b>2</b><span>Inconsistent</span></label>
                <label class="choice"><input type="radio" name="q5" value="3"><b>3</b><span>Growing</span></label>
                <label class="choice"><input type="radio" name="q5" value="4"><b>4</b><span>Strong</span></label>
              </div>
            </div>

            <div class="q" data-q="6">
              <div class="qTop">
                <div class="qNum">6</div>
                <p class="qText">Am I a true peacemaker who strengthens fellowship, especially when conflict arises?</p>
              </div>
              <div class="choices">
                <label class="choice"><input type="radio" name="q6" value="1"><b>1</b><span>Weak</span></label>
                <label class="choice"><input type="radio" name="q6" value="2"><b>2</b><span>Inconsistent</span></label>
                <label class="choice"><input type="radio" name="q6" value="3"><b>3</b><span>Growing</span></label>
                <label class="choice"><input type="radio" name="q6" value="4"><b>4</b><span>Strong</span></label>
              </div>
            </div>

            <div class="q" data-q="7">
              <div class="qTop">
                <div class="qNum">7</div>
                <p class="qText">Am I faithfully cultivating the ability to hear God’s voice in intercession and obeying what He says?</p>
              </div>
              <div class="choices">
                <label class="choice"><input type="radio" name="q7" value="1"><b>1</b><span>Weak</span></label>
                <label class="choice"><input type="radio" name="q7" value="2"><b>2</b><span>Inconsistent</span></label>
                <label class="choice"><input type="radio" name="q7" value="3"><b>3</b><span>Growing</span></label>
                <label class="choice"><input type="radio" name="q7" value="4"><b>4</b><span>Strong</span></label>
              </div>
            </div>

            <div class="q" data-q="8">
              <div class="qTop">
                <div class="qNum">8</div>
                <p class="qText">Is my life good soil—full of hope, joy, and readiness—for the vision and seeds God wants to plant in the coming years?</p>
              </div>
              <div class="choices">
                <label class="choice"><input type="radio" name="q8" value="1"><b>1</b><span>Weak</span></label>
                <label class="choice"><input type="radio" name="q8" value="2"><b>2</b><span>Inconsistent</span></label>
                <label class="choice"><input type="radio" name="q8" value="3"><b>3</b><span>Growing</span></label>
                <label class="choice"><input type="radio" name="q8" value="4"><b>4</b><span>Strong</span></label>
              </div>
            </div>

            <div class="q" data-q="9">
              <div class="qTop">
                <div class="qNum">9</div>
                <p class="qText">Am I intentionally discipling and investing in someone else’s growth and leadership?</p>
              </div>
              <div class="choices">
                <label class="choice"><input type="radio" name="q9" value="1"><b>1</b><span>Weak</span></label>
                <label class="choice"><input type="radio" name="q9" value="2"><b>2</b><span>Inconsistent</span></label>
                <label class="choice"><input type="radio" name="q9" value="3"><b>3</b><span>Growing</span></label>
                <label class="choice"><input type="radio" name="q9" value="4"><b>4</b><span>Strong</span></label>
              </div>
            </div>

            <div class="q" data-q="10">
              <div class="qTop">
                <div class="qNum">10</div>
                <p class="qText">Am I serving others with genuine joy, or has service become a burden?</p>
              </div>
              <div class="choices">
                <label class="choice"><input type="radio" name="q10" value="1"><b>1</b><span>Weak</span></label>
                <label class="choice"><input type="radio" name="q10" value="2"><b>2</b><span>Inconsistent</span></label>
                <label class="choice"><input type="radio" name="q10" value="3"><b>3</b><span>Growing</span></label>
                <label class="choice"><input type="radio" name="q10" value="4"><b>4</b><span>Strong</span></label>
              </div>
            </div>

            <div class="q" data-q="11">
              <div class="qTop">
                <div class="qNum">11</div>
                <p class="qText">Am I walking in honest accountability, inviting others into my struggles when needed?</p>
              </div>
              <div class="choices">
                <label class="choice"><input type="radio" name="q11" value="1"><b>1</b><span>Weak</span></label>
                <label class="choice"><input type="radio" name="q11" value="2"><b>2</b><span>Inconsistent</span></label>
                <label class="choice"><input type="radio" name="q11" value="3"><b>3</b><span>Growing</span></label>
                <label class="choice"><input type="radio" name="q11" value="4"><b>4</b><span>Strong</span></label>
              </div>
            </div>

            <div class="q" data-q="12">
              <div class="qTop">
                <div class="qNum">12</div>
                <p class="qText">Am I honoring the Lord by prioritizing and caring well for my family alongside my ministry?</p>
              </div>
              <div class="choices">
                <label class="choice"><input type="radio" name="q12" value="1"><b>1</b><span>Weak</span></label>
                <label class="choice"><input type="radio" name="q12" value="2"><b>2</b><span>Inconsistent</span></label>
                <label class="choice"><input type="radio" name="q12" value="3"><b>3</b><span>Growing</span></label>
                <label class="choice"><input type="radio" name="q12" value="4"><b>4</b><span>Strong</span></label>
              </div>
            </div>
          </form>
        </div>
      </section>

      <!-- RIGHT: SUBMIT + RESULTS -->
      <aside class="card sideCard" aria-label="Submit and results">
        <div class="cardHeader">
          <h2>Results to your email</h2>
        </div>
        <div class="sideBody">
          <div class="field">
            <label class="small" for="email">Your email (results go only to you)</label>
            <input id="email" type="email" placeholder="name@example.com" autocomplete="email" />
          </div>

          <button id="submitBtn" class="btn" type="button">Generate Email to Myself</button>
          <button id="resetBtn" class="btn secondary" type="button">Reset</button>

          <div id="warn" class="warn"></div>
          <div id="resultBox" class="resultBox"></div>

          <div class="notice">
            <b>Privacy:</b> This page does not save your answers. Your browser prepares an email draft addressed to your email.
            If you’re on mobile, it will open your default mail app.
          </div>

          <div class="footer">
            Tip: If your email app doesn’t open, scroll down and try again — some browsers block popups unless you click the button.
          </div>
        </div>
      </aside>
    </div>
  </div>

  <script>
    const totalQuestions = 12;

    const barFill = document.getElementById('barFill');
    const progressText = document.getElementById('progressText');
    const warn = document.getElementById('warn');
    const resultBox = document.getElementById('resultBox');

    const submitBtn = document.getElementById('submitBtn');
    const resetBtn  = document.getElementById('resetBtn');
    const emailInput = document.getElementById('email');
    const form = document.getElementById('assessmentForm');

    function getAnsweredCount(){
      let count = 0;
      for (let i = 1; i <= totalQuestions; i++){
        const chosen = form.querySelector(`input[name="q${i}"]:checked`);
        if (chosen) count++;
      }
      return count;
    }

    function updateProgress(){
      const answered = getAnsweredCount();
      const pct = Math.round((answered / totalQuestions) * 100);
      barFill.style.width = pct + "%";
      progressText.textContent = `${answered} / ${totalQuestions}`;
    }

    function computeTotal(){
      let total = 0;
      const answers = [];
      for (let i = 1; i <= totalQuestions; i++){
        const chosen = form.querySelector(`input[name="q${i}"]:checked`);
        if (!chosen) return null;
        const v = parseInt(chosen.value, 10);
        total += v;
        answers.push(v);
      }
      return { total, answers };
    }

    // Stage ranges based on total score (12–48)
    // You can tweak these ranges later if you want.
    function stageFor(total){
      if (total <= 21) return { name: "Return to First Love", range: "12–21" };
      if (total <= 30) return { name: "Strengthen What Remains", range: "22–30" };
      if (total <= 39) return { name: "Abide and Bear More Fruit", range: "31–39" };
      return { name: "Remain Watchful and Humble", range: "40–48" };
    }

    function setWarn(msg){
      warn.style.display = "block";
      warn.textContent = msg;
      resultBox.style.display = "none";
    }

    function clearWarn(){
      warn.style.display = "none";
      warn.textContent = "";
    }

    function showResultSummary(total){
      const st = stageFor(total);
      resultBox.style.display = "block";
      resultBox.innerHTML = `<b>Total score:</b> ${total} / 48<br/><b>Stage:</b> ${st.name} <span style="color: rgba(255,255,255,0.7)">(${st.range})</span>`;
    }

    function buildEmailBody(total, answers){
      const st = stageFor(total);
      const lines = [];
      lines.push("YWAM LA — Life Dedicated to the Lord (Self-Assessment)");
      lines.push("");
      lines.push(`Total score: ${total} / 48`);
      lines.push(`Stage: ${st.name} (${st.range})`);
      lines.push("");
      lines.push("My scores by question (1–4):");
      for (let i = 1; i <= totalQuestions; i++){
        lines.push(`Q${i}: ${answers[i-1]}`);
      }
      lines.push("");
      lines.push("Notes / Prayer:");
      lines.push("(Write what the Holy Spirit highlights)");
      lines.push("");
      lines.push("—");
      lines.push("Privacy note: this email was generated locally in my browser; no answers were stored online.");
      return lines.join("\n");
    }

    function sanitizeSubject(s){
      return s.replace(/\s+/g, " ").trim();
    }

    function openMailto(toEmail, subject, body){
      const mailto = `mailto:${encodeURIComponent(toEmail)}?subject=${encodeURIComponent(subject)}&body=${encodeURIComponent(body)}`;
      window.location.href = mailto;
    }

    // listeners
    form.addEventListener('change', () => {
      updateProgress();
      clearWarn();
      const computed = computeTotal();
      if (computed){
        showResultSummary(computed.total);
      } else {
        resultBox.style.display = "none";
      }
    });

    submitBtn.addEventListener('click', () => {
      clearWarn();

      const email = (emailInput.value || "").trim();
      if (!email || !email.includes("@")){
        setWarn("Please enter a valid email so the results can be addressed to you.");
        return;
      }

      const computed = computeTotal();
      if (!computed){
        setWarn("Please answer all 12 questions before generating your email.");
        return;
      }

      const subject = sanitizeSubject("YWAM LA — Self-Assessment Results");
      const body = buildEmailBody(computed.total, computed.answers);

      // Show summary on-page too
      showResultSummary(computed.total);

      // Open email draft addressed to the user
      openMailto(email, subject, body);
    });

    resetBtn.addEventListener('click', () => {
      form.reset();
      emailInput.value = "";
      clearWarn();
      resultBox.style.display = "none";
      updateProgress();
      window.scrollTo({ top: 0, behavior: "smooth" });
    });

    // init
    updateProgress();
  </script>
</body>
</html>
